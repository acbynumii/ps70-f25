<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="styles.css">

    <title>PS70: Week 4</title>
</head>
<body>
    <!-- NAVBAR -->
    <nav>
        <div class="left">
            <a href="/">PS70 Fall 2025</a>
        </div>
        <div class="right">
            <a href="/index.html">About Me</a>
            <a href="../final-project.html">Final Project</a>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <section class="hero-section">    
        <div class="text">
            <h1>Microcontroller Programming</h1>
            <p>This week focused on programming microcontrollers to create interactive electronic projects. I worked with Arduino IDE and an ESP32 to build the circuit. The project involved writing code to control the robot claw, opening and closing it. This hands-on experience with embedded programming provided valuable insights into the intersection of hardware and software in electronic systems, and I plan to continue to build on my final project by refining the claw and its programming and implementing sensors on other parts of the robot.</p>
        </div>
    </section>

    <!-- PROJECT VIDEO -->
    <div class="gallery-center">
        <div class="responsive">
            <div class="gallery">
                <video controls>
                    <source src="../images/week4_project.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video> 
                <div class="desc">Project Demonstration Video</div>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="divider"></div>

    <!-- CODE SNIPPETS -->
    <section class="hero-section">    
        <div class="text">
            <h1>Code Implementation</h1>
            <p>Below is the key code snippet that powers the microcontroller project.</p>
        </div>
    </section>

    <div class="code-snippet">
        <pre><code>#include &lt;ESP32Servo.h&gt;

Servo myservo;  // create servo object to control a servo
// 16 servo objects can be created on the ESP32

int pos = 0;    // variable to store the servo position
// Recommended PWM GPIO pins on the ESP32 include 2,4,12-19,21-23,25-27,32-33 
// Possible PWM GPIO pins on the ESP32-S2: 0(used by on-board button),1-17,18(used by on-board LED),19-21,26,33-42
// Possible PWM GPIO pins on the ESP32-S3: 0(used by on-board button),1-21,35-45,47,48(used by on-board LED)
// Possible PWM GPIO pins on the ESP32-C3: 0(used by on-board button),1-7,8(used by on-board LED),9-10,18-21
int servoPin = 12;

void setup() {
    // Allow allocation of all timers
    ESP32PWM::allocateTimer(0);
    ESP32PWM::allocateTimer(1);
    ESP32PWM::allocateTimer(2);
    ESP32PWM::allocateTimer(3);
    myservo.setPeriodHertz(50);    // standard 50 hz servo
    myservo.attach(servoPin, 1000, 2000); // attaches the servo on pin 18 to the servo object
    // using default min/max of 1000us and 2000us
    // different servos may require different min/max settings
    // for an accurate 0 to 180 sweep
}

void loop() {
    for (pos = 0; pos &lt;= 180; pos += 1) { // goes from 0 degrees to 180 degrees
        // in steps of 1 degree
        myservo.write(pos);    // tell servo to go to position in variable 'pos'
        delay(15);             // waits 15ms for the servo to reach the position
    }
    for (pos = 180; pos &gt;= 0; pos -= 1) { // goes from 180 degrees to 0 degrees
        myservo.write(pos);    // tell servo to go to position in variable 'pos'
        delay(15);             // waits 15ms for the servo to reach the position
    }
}</code></pre>
    </div>

    <div class="divider"></div>

    <!-- CIRCUIT SCHEMATIC -->
    <section class="hero-section">    
        <div class="text">
            <h1>Circuit Schematic</h1>
            <p>The circuit schematic below shows the complete wiring diagram for the microcontroller project. It includes the ESP32 board, its pinout, a servo motor, and power connections.</p>
        </div>
    </section>

    <div class="schematic-container">
        <img src="../images/week4_schematic.webp" alt="Circuit Schematic" />
    </div>

    <div class="gallery-center">
        <div class="responsive">
            <div class="gallery">
                <a target="_blank" href="../images/week4_breadboard.webp">
                    <img src="../images/week4_breadboard.webp" alt="Breadboard Setup">
                </a>
                <div class="desc">Physical Breadboard Setup</div>
            </div>
        </div>
        <div class="responsive">
            <div class="gallery">
                <a target="_blank" href="../images/week4_components.webp">
                    <img src="../images/week4_components.webp" alt="Project Components">
                </a>
                <div class="desc">Project Components</div>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="styles.css">

    <title>PS70: Week 4</title>
</head>
<body>
    <!-- NAVBAR -->
    <nav>
        <div class="left">
            <a href="/">PS70 Fall 2025</a>
        </div>
        <div class="right">
            <a href="/index.html">About Me</a>
            <a href="../final-project.html">Final Project</a>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <section class="hero-section">    
        <div class="text">
            <h1>Microcontroller Programming</h1>
            <p>This week focused on programming microcontrollers to create interactive electronic projects. I worked with Arduino to build circuits that respond to sensors and control actuators. The project involved writing code to read sensor inputs, process the data, and output control signals to various components. This hands-on experience with embedded programming provided valuable insights into the intersection of hardware and software in electronic systems.</p>
        </div>
    </section>

    <!-- PROJECT VIDEO -->
    <div class="gallery-center">
        <div class="responsive">
            <div class="gallery">
                <video controls>
                    <source src="../images/week4_project.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video> 
                <div class="desc">Project Demonstration Video</div>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="divider"></div>

    <!-- CODE SNIPPETS -->
    <section class="hero-section">    
        <div class="text">
            <h1>Code Implementation</h1>
            <p>Below are the key code snippets that power the microcontroller project. The code demonstrates sensor reading, data processing, and actuator control using Arduino programming concepts.</p>
        </div>
    </section>

    <div class="code-snippet">
        <pre><code>// Main Arduino sketch for sensor-controlled LED system
const int sensorPin = A0;      // Analog input pin for sensor
const int ledPin = 9;          // PWM pin for LED
const int threshold = 512;     // Threshold value for sensor reading

void setup() {
    Serial.begin(9600);        // Initialize serial communication
    pinMode(ledPin, OUTPUT);   // Set LED pin as output
    pinMode(sensorPin, INPUT); // Set sensor pin as input
}

void loop() {
    int sensorValue = analogRead(sensorPin);  // Read sensor value
    int brightness = map(sensorValue, 0, 1023, 0, 255);  // Map to LED brightness
    
    // Control LED based on sensor reading
    if (sensorValue > threshold) {
        analogWrite(ledPin, brightness);     // PWM control
        Serial.println("LED ON - Brightness: " + String(brightness));
    } else {
        digitalWrite(ledPin, LOW);          // Turn off LED
        Serial.println("LED OFF");
    }
    
    delay(100);  // Small delay for stability
}</code></pre>
    </div>

    <div class="code-snippet">
        <pre><code>// Function to handle button press events
void handleButtonPress() {
    static unsigned long lastPress = 0;
    unsigned long currentTime = millis();
    
    // Debounce button press
    if (currentTime - lastPress > 200) {
        if (digitalRead(buttonPin) == HIGH) {
            toggleMode();  // Switch between modes
            lastPress = currentTime;
        }
    }
}

// Function to toggle between different operating modes
void toggleMode() {
    currentMode = (currentMode + 1) % 3;  // Cycle through 3 modes
    
    switch(currentMode) {
        case 0:
            Serial.println("Mode: Automatic");
            break;
        case 1:
            Serial.println("Mode: Manual");
            break;
        case 2:
            Serial.println("Mode: Calibration");
            break;
    }
}</code></pre>
    </div>

    <div class="divider"></div>

    <!-- CIRCUIT SCHEMATIC -->
    <section class="hero-section">    
        <div class="text">
            <h1>Circuit Schematic</h1>
            <p>The circuit schematic below shows the complete wiring diagram for the microcontroller project. It includes the Arduino board, sensors, actuators, and power connections.</p>
        </div>
    </section>

    <div class="schematic-container">
        <img src="../images/week4_schematic.png" alt="Circuit Schematic" />
    </div>

    <div class="gallery-center">
        <div class="responsive">
            <div class="gallery">
                <a target="_blank" href="../images/week4_breadboard.jpg">
                    <img src="../images/week4_breadboard.jpg" alt="Breadboard Setup">
                </a>
                <div class="desc">Physical Breadboard Setup</div>
            </div>
        </div>
        <div class="responsive">
            <div class="gallery">
                <a target="_blank" href="../images/week4_components.jpg">
                    <img src="../images/week4_components.jpg" alt="Project Components">
                </a>
                <div class="desc">Project Components</div>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
</body>
</html>
